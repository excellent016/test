webpackJsonp([28],{HWWI:function(e,t){},rkYX:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("Dd8w"),r=n.n(a),o={data:function(){return{pagination:{current:1,total:null,size:10},loading:!1,score:[],filter:null}},created:function(){this.getScore(),this.loading=!0},methods:{info:function(e,t){this.$router.push({path:"/errorinfo"}),console.log(e,t);this.$jwtDecode(sessionStorage.getItem("token")).id;sessionStorage.setItem("error",1),sessionStorage.setItem("sub",e),sessionStorage.setItem("date",t)},getScore:function(){var e=this,t=this.$jwtDecode(sessionStorage.getItem("token")).id;this.$axios("/http://110.41.45.5:21887/score/"+this.pagination.current+"/"+this.pagination.size+"/"+t).then(function(t){if(200==t.data.code){e.loading=!1,e.score=t.data.data.records,e.pagination=r()({},t.data.data);var n=[],a=e.score.map(function(e,t){var n={};return n.text=e.answerDate,n.value=e.answerDate,n}).reduce(function(e,t){return!n[t.text]&&(n[t.text]=e.push(t)),e},[]);e.filter=a}})},handleSizeChange:function(e){this.pagination.size=e,this.getScore()},handleCurrentChange:function(e){this.pagination.current=e,this.getScore()},formatter:function(e,t){return e.address},filterTag:function(e,t){return t.tag===e},filterHandler:function(e,t,n){return t[n.property]===e}}},i={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"table"},[n("p",{staticClass:"title"},[e._v("我的分数")]),e._v(" "),n("section",{staticClass:"content-el"},[n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"filterTable",attrs:{data:e.score}},[n("el-table-column",{attrs:{prop:"answerDate",label:"考试日期",sortable:"",width:"300","column-key":"answerDate",filters:e.filter,"filter-method":e.filterHandler}}),e._v(" "),n("el-table-column",{attrs:{prop:"subject",label:"课程名称",width:"300","filter-placement":"bottom-end"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-tag",[e._v(e._s(t.row.subject))])]}}])}),e._v(" "),n("el-table-column",{attrs:{label:"查看详情",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{attrs:{size:"small"},on:{click:function(n){return e.info(t.row.subject,t.row.answerDate)}}},[e._v("详情")])]}}])}),e._v(" "),n("el-table-column",{attrs:{prop:"objectiveScore",label:"客观题考试分数",width:"150"}}),e._v(" "),n("el-table-column",{attrs:{label:"是否及格",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-tag",{attrs:{type:t.row.objectiveScore>=60?"success":"danger"}},[e._v(e._s(t.row.objectiveScore>=60?"及格":"不及格"))])]}}])})],1),e._v(" "),n("el-row",{staticClass:"pagination",attrs:{type:"flex",justify:"center",align:"middle"}},[n("el-pagination",{attrs:{"current-page":e.pagination.current,"page-sizes":[4,6,8,10],"page-size":e.pagination.size,layout:"total, sizes, prev, pager, next, jumper",total:e.pagination.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)])},staticRenderFns:[]};var s=n("VU/8")(o,i,!1,function(e){n("HWWI")},"data-v-371934d8",null);t.default=s.exports}});
//# sourceMappingURL=28.eebf6ac844306c5c171a.js.map