webpackJsonp([4],{"242L":function(e,t){},D2kK:function(e,t){},QxDH:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i("Dd8w"),s=i.n(n),o=i("NYxO"),a={data:function(){return{login_flag:!1,user:{userName:null,userId:null},imageUrl:""}},created:function(){this.getUserInfo(),this.updateAvatar()},computed:Object(o.c)(["flag","menu"]),methods:s()({showSetting:function(){this.login_flag=!this.login_flag}},Object(o.b)(["toggle"]),{getUserInfo:function(){var e=this.$cookies.get("cname"),t=this.$cookies.get("cid");this.user.userName=e,this.user.userId=t,this.imageUrl=this.$cookies.get("image")},index:function(){this.$router.push({path:"/index"})},updateAvatar:function(){var e=this;setInterval(function(){e.imageUrl=e.$cookies.get("image")},1e3)},exit:function(){var e=this;0==this.$cookies.get("role")&&this.menu.pop(),this.$axios({url:"/api/logout/"+this.user.userId,method:"put"}).then(function(t){console.log(t),200==t.data.code&&(e.$router.push({path:"/"}),e.$cookies.remove("cname"),e.$cookies.remove("cid"),e.$cookies.remove("role"),e.$cookies.remove("activeInfo"),e.$cookies.remove("index"),e.$cookies.remove("now"),e.$message({message:"退出成功",type:"success"}))})}})},c={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("header",{attrs:{id:"topbar"}},[i("el-row",[i("el-col",{staticClass:"topbar-left",attrs:{span:4}},[i("i",{staticClass:"iconfont icon-kaoshi"}),e._v(" "),i("span",{staticClass:"title",on:{click:function(t){return e.index()}}},[e._v("EXAM-SYSTEM")])]),e._v(" "),i("el-col",{staticClass:"topbar-right",attrs:{span:20}},[i("i",{staticClass:"el-icon-menu",on:{click:function(t){return e.toggle()}}}),e._v(" "),i("div",{staticClass:"user"},[i("span",[e._v(e._s(e.user.userName))]),e._v(" "),i("img",{ref:"img",staticClass:"user-img",attrs:{src:e.imageUrl},on:{click:function(t){return e.showSetting()}}}),e._v(" "),i("transition",{attrs:{name:"fade"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:e.login_flag,expression:"login_flag"}],ref:"out",staticClass:"out"},[i("ul",[i("li",{staticStyle:{width:"70px"}},[i("a",{attrs:{href:"javascript:;"}},[e._v("用户信息")])]),e._v(" "),i("li",[i("a",{attrs:{href:"javascript:;"}},[e._v("设置")])]),e._v(" "),i("li",{staticClass:"exit",on:{click:function(t){return e.exit()}}},[i("a",{attrs:{href:"javascript:;"}},[e._v("退出登录")])])])])])],1)])],1)],1)},staticRenderFns:[]};var r=i("VU/8")(a,c,!1,function(e){i("TRUB")},"data-v-0ec7e269",null).exports,l={name:"mainLeft",data:function(){return{iconShape:"el-icon-s-home",temp:[]}},computed:Object(o.c)(["flag","menu"]),created:function(){this.addData()},methods:{handleOpen:function(e,t){},handleClose:function(e,t){},handleTitle:function(e,t){var i={index:e,now:t};this.bus.$emit("sendIndex",i)},addData:function(){0==this.$cookies.get("role")&&4==this.menu.length&&this.menu.push({index:"5",title:"教师管理",icon:"icon-Userselect",content:[{item1:"教师管理",path:"/teacherManage",title:"教师管理",now:"0"},{item2:"添加教师",path:"/addTeacher",title:"添加教师",now:"1"}]})}}},u={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"left"}},[i("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{"active-text-color":"red","text-color":"#000","default-active":this.$route.path,collapse:e.flag,"background-color":"#124280","menu-trigger":"click",router:""},on:{open:e.handleOpen,close:e.handleClose}},[i("el-menu-item",{attrs:{index:"/index"},on:{click:function(t){return e.handleTitle(-1,-1)}}},[i("i",{class:e.iconShape}),e._v(" "),i("span",{staticClass:"title",staticStyle:{"margin-left":"3px"},attrs:{slot:"title"},slot:"title"},[e._v("首页")])]),e._v(" "),e._l(e.menu,function(t,n){return i("el-submenu",{key:n,attrs:{index:t.index}},[i("template",{slot:"title"},[i("div",{staticClass:"left-width"},[i("i",{staticClass:"iconfont",class:t.icon}),e._v(" "),i("span",{staticClass:"title",attrs:{slot:"title"},slot:"title"},[e._v(e._s(t.title))])])]),e._v(" "),e._l(t.content,function(n,s){return i("el-menu-item-group",{key:s},[null!=n.item1?i("el-menu-item",{attrs:{index:n.path},on:{click:function(i){return e.handleTitle(t.index,n.now)}}},[e._v(e._s(n.item1))]):e._e(),e._v(" "),null!=n.item2?i("el-menu-item",{attrs:{index:n.path},on:{click:function(i){return e.handleTitle(t.index,n.now)}}},[e._v(e._s(n.item2))]):e._e(),e._v(" "),null!=n.item3?i("el-menu-item",{attrs:{index:n.path},on:{click:function(i){return e.handleTitle(t.index,n.now)}}},[e._v(e._s(n.item3))]):e._e()],1)})],2)})],2)],1)},staticRenderFns:[]};var d=i("VU/8")(l,u,!1,function(e){i("lGay")},null,null).exports,h={data:function(){return{active:[],index1:null,now:null,icons:null,link:"/index#/index"}},computed:Object(o.c)(["menu"]),methods:{getIndex:function(){var e=this;this.bus.$on("sendIndex",function(t){-1==t.index&&-1==t.now?(e.active={title:"首页",content:[{title:""}]},e.index1="/index",e.now=-1,e.icons="el-icon-s-home",e.$cookies.set("activeInfo",e.active),e.$cookies.set("index",e.index1),e.$cookies.set("now",e.now),e.$cookies.set("icon","el-icon-s-home")):(e.index1=t.index,e.active=e.menu[t.index-1],e.now=t.now,e.icons=e.active.icon,e.$cookies.set("icon",e.active.icon),e.$cookies.set("activeInfo",e.active),e.$cookies.set("index",e.index1),e.$cookies.set("now",e.now))})},toHome:function(){this.active={title:"首页",content:[{title:""}]},this.index1="/index",this.now=-1,this.icons="el-icon-s-home",this.$cookies.remove("activeInfo"),this.$cookies.remove("index"),this.$cookies.remove("now"),this.$cookies.remove("icon")},init:function(){null!=this.$cookies.get("activeInfo")?(this.active=this.$cookies.get("activeInfo"),this.index1=this.$cookies.get("index"),this.now=this.$cookies.get("now"),this.icons=this.$cookies.get("icon")):0==this.active.length&&(this.active={title:"首页",content:[{title:""}]},this.index1="/index",this.now=-1)}},created:function(){this.getIndex(),this.init()},beforeDestroy:function(){}},m={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"nav"}},[i("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[i("el-breadcrumb-item",{staticClass:"title"},[i("a",{attrs:{href:e.link}},[i("span",{staticStyle:{"font-weight":"bold"},on:{click:e.toHome}},[i("i",{staticClass:"el-icon-s-home"}),e._v("  首页")])])]),e._v(" "),"首页"!=e.active.title?i("el-breadcrumb-item",{staticClass:"title"},[i("span",{staticStyle:{"font-weight":"bold"}},[i("i",{staticClass:"iconfont",class:e.icons}),e._v("  "+e._s(e.active.title))])]):e._e(),e._v(" "),0==e.now?i("el-breadcrumb-item",{staticStyle:{"padding-top":"1px"}},[e._v(e._s(e.active.content[e.now].title))]):e._e(),e._v(" "),1==e.now?i("el-breadcrumb-item",{staticStyle:{"padding-top":"1px"}},[e._v(e._s(e.active.content[e.now].title))]):e._e(),e._v(" "),2==e.now?i("el-breadcrumb-item",{staticStyle:{"padding-top":"1px"}},[e._v(e._s(e.active.content[e.now].title))]):e._e()],1)],1)},staticRenderFns:[]};var v={components:{header1:r,mainLeft:d,navigator:i("VU/8")(h,m,!1,function(e){i("D2kK")},"data-v-5604e754",null).exports},data:function(){return{username:"许如梦"}},created:function(){this.init()},methods:{init:function(){var e=this;new WebSocket(this.$websocketUrl,JSON.parse(sessionStorage.getItem("token")).val).onmessage=function(t){"is_lock"===JSON.parse(t.data).message&&e.open()}},open:function(){var e=this;this.$confirm("系统检测到有人在登录你的账号, 是否退出?","提示",{confirmButtonText:"退出",cancelButtonText:"取消",type:"warning"}).then(function(){e.exit()}).catch(function(){e.$message({type:"success",message:"已取消"})})},exit:function(){var e=this;this.$axios({url:"/api/logout/"+this.user.studentId,method:"put"}).then(function(t){console.log(t),200==t.data.code&&(e.$router.push({path:"/"}),e.$cookies.remove("cname"),sessionStorage.removeItem("token"),e.$cookies.remove("image"),e.$cookies.remove("cid"),e.$cookies.remove("activeInfo"),e.$cookies.remove("index"),e.$cookies.remove("now"),e.$message({message:"退出成功",type:"success"}))})}}},f={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"index"}},[t("header1",{staticClass:"topbar"}),this._v(" "),t("section",{staticClass:"container"},[t("div",{staticClass:"left_side"},[t("mainLeft")],1),this._v(" "),t("div",{staticClass:"main_wrapper"},[t("navigator",{staticClass:"nav"}),this._v(" "),t("router-view")],1)])],1)},staticRenderFns:[]};var p=i("VU/8")(v,f,!1,function(e){i("242L")},"data-v-fd68d2b0",null);t.default=p.exports},TRUB:function(e,t){},lGay:function(e,t){}});
//# sourceMappingURL=4.f7b3a9b51560509b5567.js.map