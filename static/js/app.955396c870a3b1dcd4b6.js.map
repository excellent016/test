{"version":3,"sources":["webpack:///./src/App.vue?1eba","webpack:///./src/App.vue","webpack:///src/App.vue","webpack:///./src/router/index.js","webpack:///./src/vuex/store.js","webpack:///./src/main.js","webpack:///./config/websocker_url.js"],"names":["selectortype_template_index_0_src_App","render","_h","this","$createElement","_c","_self","attrs","id","staticRenderFns","src_App","__webpack_require__","normalizeComponent","name","is_login","ws","current_id","created","methods","ssrContext","Vue","use","Router","router","routes","path","component","e","then","bind","children","beforeEach","to","from","next","isLogin","sessionStorage","getItem","VUE","VUEX","store","Store","state","isPractice","flag","userInfo","menu","index","title","icon","content","item1","now","item2","item3","mutations","practice","status","toggle","changeUserInfo","info","getters","actions","getUserInfo","context","commit","getPractice","prototype","$message","Message","$websocketUrl","websocket","connectManually","format","reconnection","reconnectionAttempts","reconnectionDelay","ElementUI","VueCookies","config","productionTip","bus","$echarts","echarts","$axios","axios","interceptors","request","K","JSON","parse","Date","getTime","startTime","removeItem","val","url","method","res","console","log","data","code","push","remove","type","message","headers","common","error","promise_default","a","reject","response","el","h","App","components","template"],"mappings":"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","file":"static/js/app.955396c870a3b1dcd4b6.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('router-view')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-526c0e78\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-526c0e78\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-526c0e78\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div id=\"app\">\r\n    <router-view/>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'App',\r\n  is_login:false,\r\n  ws:null,\r\n  current_id:null,\r\n  created(){\r\n    // this.timeNow()\r\n    // this.init()\r\n  },\r\n  methods:{\r\n      \r\n  //     timeNow(){\r\n  //       setInterval(()=>{\r\n  \r\n  //           this.$axios({\r\n  //             url:'/api/global',\r\n  //             method:'put',\r\n  //           }).then(res => {\r\n  //           if(res.data.code == 200) {\r\n  //           if(res.data.data!=null){\r\n  //             this.is_login=true;\r\n  //             // console.log(res.data.data)\r\n  //             // this.$message({\r\n  //             //   showClose: true,\r\n  //             //   type: 'error',\r\n  //             //   message: '是否登出'\r\n  //             // })         \r\n  //             this.current_id=res.data.data\r\n  //             console.log(this.current_id)\r\n  //         }\r\n        \r\n  //       }\r\n  //     })\r\n      \r\n  //   },1000)\r\n  //     }\r\n   }\r\n}\r\n  \r\n\r\n\r\n\r\n\r\n</script>\r\n\r\n<style>\r\nul {\r\n  list-style: none;\r\n}\r\na {\r\n  text-decoration: none;\r\n}\r\n* {\r\n  margin: 0;\r\n  padding: 0;\r\n}\r\n#app {\r\n  font-family: \"Microsoft YaHei\", \"Helvetica\", \"Tahoma\", \"Geneva\", \"Arial\", sans-serif;\r\n  background-color: #eee;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue","import Vue from 'vue'\nimport Router from 'vue-router'\nimport axios from 'axios'\nimport VueCookies from 'vue-cookies'\nimport { Message } from 'element-ui'\n\nVue.use(Router)\n\n\n\n// Router.afterEach(( to, from ) => {\n\n//   const isLogin = sessionStorage.getItem('token') ? true : false;\n\n//   if (to.path == \"/login\") {\n\n//     next();\n\n//   } else {\n\n//     isLogin ? next() : next('/login');\n\n//   }\n\n// })\n\n\nconst router=new Router({\n  routes: [\n    {\n      path: '/',\n      name: 'login', //登录界面\n      component: () => import('@/components/common/login')\n    },\n    {\n      path: '/index', //教师主页\n      component: () => import('@/components/admin/index'),\n      children: [\n        {\n          path: '/', //首页默认路由\n          component: () => import('@/components/common/hello')\n        },\n        {\n          path:'/grade', //学生成绩\n          component: () => import('@/components/charts/grade')\n        },\n        {\n          path: '/selectExamToPart', //学生分数段\n          component: () => import('@/components/teacher/selectExamToPart')\n        },\n        {\n          path: '/scorePart',\n          component: () => import('@/components/charts/scorePart')\n        },\n        {\n          path: '/allStudentsGrade', //所有学生成绩统计\n          component: () => import('@/components/teacher/allStudentsGrade')\n        },\n        {\n          path: '/examDescription', //考试管理功能描述\n          component: () => import('@/components/teacher/examDescription')\n        },\n        {\n          path: '/selectExam', //查询所有考试\n          component: () => import('@/components/teacher/selectExam')\n        },\n        {\n          path: '/addExam', //添加考试\n          component: () => import('@/components/teacher/addExam')\n        },\n        {\n          path: '/answerDescription', //题库管理功能介绍\n          component: ()=> import('@/components/teacher/answerDescription')\n        },\n        {\n          path: '/selectAnswer', //查询所有题库\n          component: () => import('@/components/teacher/selectAnswer')\n        },\n        {\n          path: '/addAnswer', //增加题库主界面\n          component: () => import('@/components/teacher/addAnswer')\n        },\n        {\n          path: '/addAnswerChildren', //点击试卷跳转到添加题库页面\n          component: () => import('@/components/teacher/addAnswerChildren')\n        },\n        {\n          path: '/studentManage', //学生管理界面\n          component: () => import('@/components/teacher/studentManage')\n        },\n        {\n          path: '/addStudent', //添加学生\n          component: () => import('@/components/teacher/addStudent')\n        },\n        {\n          path: '/teacherManage',\n          component: () => import('@/components/admin/tacherManage')\n        },\n        {\n          path: '/addTeacher',\n          component: () => import ('@/components/admin/addTeacher')\n        },\n        {\n          path: '/selectInfo',\n          component: () => import ('@/components/teacher/selectInfo')\n        }\n      ]\n    },\n    {\n      path: '/student',\n      component: () => import('@/components/student/index'),\n      children: [\n        {path:\"/\",component: ()=> import('@/components/student/myExam')},\n        {path:'/startExam', component: () => import('@/components/student/startExam')},\n        {path: '/manager', component: () => import('@/components/student/manager')},\n        {path: '/examMsg', component: () => import('@/components/student/examMsg')},\n        {path: '/message', component: () => import('@/components/student/message')},\n        {path: '/studentScore', component: () => import(\"@/components/student/answerScore\")},\n        {path: '/scoreTable', component: () => import(\"@/components/student/scoreTable\")},\n        {path: '/errorinfo', component: () => import(\"@/components/student/errorinfo\")},\n        // {path: '/chat', component: () => import(\"@/components/student/chat\")}\n        // {path: '/rank', component: () => import(\"@/components/student/rank\")},\n      ]\n    },\n    {path: '/answer',component: () => import('@/components/student/answer')}\n  ]\n})\n//拦截器，拦截未登录得\nrouter.beforeEach((to, from, next) => {\n  const isLogin = sessionStorage.getItem('token') ? true : false;\n  if (to.path == \"/\") {\n    next();\n\n  } else {\n    isLogin ? next() : next('/');\n  }\n})\nexport default router\n\n\n\n// WEBPACK FOOTER //\n// ./src/router/index.js","import VUE from 'vue'\r\nimport VUEX from 'vuex'\r\n\r\nVUE.use(VUEX)\r\n\r\nconst state = {\r\n  isPractice: false, //练习模式标志\r\n  flag: false, //菜单栏左右滑动标志\r\n  userInfo: null,\r\n  menu: [\r\n    \r\n    {\r\n      index: '1',\r\n      title: '考试管理',\r\n      icon: 'icon-kechengbiao',\r\n      content:[\r\n        // {item1:'功能介绍',path:'/examDescription'},\r\n        {item1:'考试查询',path:'selectExam',title:'考试查询',now:'0'},{item2:'添加考试',path:'/addExam',title:'添加考试',now:'1'}],\r\n    },\r\n    {\r\n      index: '2',\r\n      title: '题库管理',\r\n      icon: 'icon-tiku',\r\n      content:[\r\n        // {item1:'功能介绍',path:'/answerDescription'},\r\n        {item2:'所有题库',path:'/selectAnswer',title:'所有题库',now:'0'},{item3:'增加题库',path:'/addAnswer',title:'增加题库',now:'1'},\r\n        {path: '/addAnswerChildren',title:'增加题库',now:'2'}],\r\n    },\r\n    {\r\n      index: '3',\r\n      title: '成绩查询',\r\n      icon: 'icon-performance',\r\n      content:[{item1:'学生成绩查询',path:'/allStudentsGrade',title:'学生成绩查询',now:'0'}\r\n      ,\r\n      {item2: '科目分段查询',path: '/selectExamToPart',title:'科目分段查询',now:'1'},\r\n      {item3: '学生详细错题查询',path: '/selectInfo',title:'学生详细错题查询',now:'2'},\r\n      {path: '/grade',title:'分数',now:'3'},\r\n     \r\n      {path: '/scorePart',title:'添加学生',now:'4'}],\r\n    },\r\n    {\r\n      index: '4',\r\n      title: '学生管理',\r\n      icon: 'icon-role',\r\n      content:[{item1:'学生管理',path:'/studentManage',title:'学生管理',now:'0'},\r\n      {item2: '添加学生',path: '/addStudent',title:'添加学生',now:'1'}],\r\n    },\r\n    // {\r\n    //   index: '5',\r\n    //   title: '教师管理',\r\n    //   icon: 'icon-Userselect',\r\n    //   content:[{item1:'教师管理',path:'/teacherManage'},{item2: '添加教师',path: '/addTeacher'}],\r\n    // },\r\n    // {\r\n    //   index: '7',\r\n    //   title: '模块管理',\r\n    //   icon: 'icon-module4mokuai',\r\n    //   content:[{item1:'模块操作',path:'/module'}],\r\n    // }\r\n  ],\r\n}\r\nconst mutations = {\r\n  practice(state,status) {\r\n    state.isPractice = status\r\n  },\r\n  toggle(state) {\r\n    state.flag = !state.flag\r\n  },\r\n  changeUserInfo(state,info) {\r\n    state.userInfo = info\r\n  }\r\n}\r\nconst getters = {\r\n\r\n}\r\nconst actions = {\r\n  getUserInfo(context,info) {\r\n    context.commit('changeUserInfo',info)\r\n  },\r\n  getPractice(context,status) {\r\n    context.commit('practice',status)\r\n  }\r\n}\r\nexport default new VUEX.Store({\r\n  state,\r\n  mutations,\r\n  getters,\r\n  actions,\r\n  // store\r\n})\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/vuex/store.js","// The Vue build version to load with the `import` command\r\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\r\nimport Vue from 'vue'\r\nimport App from './App'\r\nimport router from './router'\r\nimport echarts from 'echarts'\r\nimport axios from 'axios'\r\nimport ElementUI from 'element-ui'\r\nimport 'element-ui/lib/theme-chalk/index.css'\r\nimport VueCookies from 'vue-cookies'\r\nimport store from '@/vuex/store'\r\nimport websocket from 'vue-native-websocket';\r\nimport { Message } from 'element-ui'\r\n\r\nimport WEBSOCKET_URL from '../config/websocker_url';  \r\nVue.prototype.$message = Message;\r\nVue.prototype.$websocketUrl = WEBSOCKET_URL;\r\n\r\n\r\nVue.use(websocket, '', {\r\n    connectManually: true, // 手动连接\r\n    format: 'json', // json格式\r\n    reconnection: true, // 是否自动重连\r\n    reconnectionAttempts: 5, // 自动重连次数\r\n    reconnectionDelay: 2000, // 重连间隔时间\r\n});\r\nVue.use(ElementUI)\r\nVue.use(VueCookies)\r\n\r\nVue.config.productionTip = false\r\nVue.prototype.bus = new Vue()\r\nVue.prototype.$echarts = echarts\r\nVue.prototype.$axios = axios\r\n\r\naxios.interceptors.request.use(function (config) {\r\n  // 在发送请求之前做些什么\r\n  // 判断是否存在token,如果存在将每个页面header添加token\r\n\r\n  if (sessionStorage.getItem(\"token\")) {\r\n    let K = sessionStorage.getItem(\"token\");\r\n    K=JSON.parse(K)\r\n    let expire_time=10*60*1000;//毫秒  10分钟跟后端保持一致\r\n\r\n      let date = new Date().getTime();\r\n      // 如果大于就是过期了\r\n      if (date - K.startTime >expire_time ) {\r\n        sessionStorage.removeItem('token');\r\n        exit(K.val)\r\n      }\r\n      else{\r\n        config.headers.common['token'] = sessionStorage.getItem(\"token\");\r\n      }\r\n  }\r\n  return config\r\n}, function (error) {\r\n  router.push({path:'/'})\r\n  return Promise.reject(error)\r\n})\r\nfunction exit(id){\r\n  axios({\r\n    url: '/api/logout/'+id,\r\n    method: 'put'\r\n  }).then(res => {\r\n    console.log(res)\r\n    if(res.data.code ==200) {\r\n      router.push({path:\"/\"}) //跳转到登录页面\r\n      VueCookies.remove(\"cname\") //清除cookie\r\n      VueCookies.remove(\"cid\")\r\n      VueCookies.remove(\"activeInfo\")\r\n      VueCookies.remove(\"index\")\r\n      VueCookies.remove(\"now\")\r\n      Message({\r\n        type:'error',\r\n        message:'用户信息已过期,请重新登录'\r\n      })\r\n    }\r\n  })\r\n}\r\n\r\n// 添加响应拦截器\r\naxios.interceptors.response.use(function (response) {\r\n  // 对响应数据做点什么\r\n  return response\r\n}, function (error) {\r\n  // 对响应错误做点什么\r\n  if (error.response) {\r\n    switch (error.response.status) {\r\n      case 401:\r\n        store.commit('del_token')\r\n        router.push('/index')\r\n    }\r\n  }\r\n  return Promise.reject(error)\r\n})\r\n\r\n\r\n\r\nnew Vue({\r\n  el: '#app',\r\n  router,\r\n  store,\r\n  render: h => h(App),\r\n  components: { App },\r\n  template: '<App/>'\r\n})\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","const WEBSOCKET_URL = 'ws://43.139.219.77:8080/wsserver/';  \r\nexport default WEBSOCKET_URL;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./config/websocker_url.js\n// module id = null\n// module chunks = "],"sourceRoot":""}