webpackJsonp([7],{rkYX:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("Dd8w"),r=a.n(n),i={data:function(){return{pagination:{current:1,total:null,size:10},loading:!1,score:[],filter:null}},created:function(){this.getScore(),this.loading=!0},methods:{info:function(t,e){this.$router.push({path:"/errorinfo"}),console.log(t,e);this.$cookies.get("cid");this.$cookies.set("error",1),this.$cookies.set("sub",t),this.$cookies.set("date",e)},getScore:function(){var t=this,e=this.$cookies.get("cid");this.$axios("/api/score/"+this.pagination.current+"/"+this.pagination.size+"/"+e).then(function(e){if(200==e.data.code){t.loading=!1,t.score=e.data.data.records,t.pagination=r()({},e.data.data);var a=[],n=t.score.map(function(t,e){var a={};return a.text=t.answerDate,a.value=t.answerDate,a}).reduce(function(t,e){return!a[e.text]&&(a[e.text]=t.push(e)),t},[]);t.filter=n}})},handleSizeChange:function(t){this.pagination.size=t,this.getScore()},handleCurrentChange:function(t){this.pagination.current=t,this.getScore()},formatter:function(t,e){return t.address},filterTag:function(t,e){return e.tag===t},filterHandler:function(t,e,a){return e[a.property]===t}}},o={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"table"},[a("p",{staticClass:"title"},[t._v("我的分数")]),t._v(" "),a("section",{staticClass:"content-el"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],ref:"filterTable",attrs:{data:t.score}},[a("el-table-column",{attrs:{prop:"answerDate",label:"考试日期",sortable:"",width:"300","column-key":"answerDate",filters:t.filter,"filter-method":t.filterHandler}}),t._v(" "),a("el-table-column",{attrs:{prop:"subject",label:"课程名称",width:"300","filter-placement":"bottom-end"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-tag",[t._v(t._s(e.row.subject))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"查看详情",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"small"},on:{click:function(a){return t.info(e.row.subject,e.row.answerDate)}}},[t._v("详情")])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"etScore",label:"考试分数",width:"150"}}),t._v(" "),a("el-table-column",{attrs:{label:"是否及格",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-tag",{attrs:{type:e.row.etScore>=60?"success":"danger"}},[t._v(t._s(e.row.etScore>=60?"及格":"不及格"))])]}}])})],1),t._v(" "),a("el-row",{staticClass:"pagination",attrs:{type:"flex",justify:"center",align:"middle"}},[a("el-pagination",{attrs:{"current-page":t.pagination.current,"page-sizes":[4,6,8,10],"page-size":t.pagination.size,layout:"total, sizes, prev, pager, next, jumper",total:t.pagination.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)],1)])},staticRenderFns:[]};var s=a("VU/8")(i,o,!1,function(t){a("w6a3")},"data-v-f9456326",null);e.default=s.exports},w6a3:function(t,e){}});
//# sourceMappingURL=7.aeb65232b1ddada6f9db.js.map