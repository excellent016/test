webpackJsonp([9],{"5HAc":function(t,e){},LttN:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("footer",{attrs:{id:"footer"}},[s("ul",[s("li",[s("a",{attrs:{href:"javascript:;"}},[t._v("关于我们")])]),t._v(" "),s("li",[s("a",{attrs:{href:"javascript:;"}},[t._v("免责声明")])]),t._v(" "),s("li",[s("a",{attrs:{href:"javascript:;"}},[t._v("使用协议")])]),t._v(" "),s("li",[s("a",{attrs:{href:"javascript:;"}},[t._v("渝ICP备19001371号")])]),t._v(" "),s("li",[t._v("©Copyright 2023-2024. ALL Rights Reserved")])])])}]};var a=s("VU/8")({name:"myFooter"},i,!1,function(t){s("XiQI")},"data-v-a79cdf76",null).exports,o=s("NYxO"),r={components:{"v-footer":a},data:function(){return{flag:!1,user:{},imageUrl:""}},created:function(){this.userInfo(),this.init(),this.updateAvatar()},methods:{init:function(){var t=this;new WebSocket(this.$websocketUrl,this.$jwtDecode(sessionStorage.getItem("token")).id).onmessage=function(e){"is_lock"===JSON.parse(e.data).message&&t.open()}},open:function(){var t=this;this.$confirm("系统检测到有人在登录你的账号, 是否退出?","提示",{confirmButtonText:"退出",cancelButtonText:"取消",type:"warning"}).then(function(){t.exit()}).catch(function(){t.$message({type:"success",message:"已取消"})})},updateAvatar:function(){var t=this;setInterval(function(){t.imageUrl=sessionStorage.getItem("image")},1e3)},exit:function(){var t=this;this.$axios({url:"/${process.env.peopleApi}/logout/"+this.user.studentId,method:"put"}).then(function(e){(console.log(e),200==e.data.code)&&(t.$router.push({path:"/"}),new WebSocket(t.$websocketUrl,t.$jwtDecode(sessionStorage.getItem("token")).id).CLOSED,sessionStorage.removeItem("token"),sessionStorage.removeItem("image"),sessionStorage.removeItem("role"),sessionStorage.removeItem("activeInfo"),sessionStorage.removeItem("index"),sessionStorage.removeItem("now"),t.$message({message:"退出成功",type:"success"}))})},manage:function(){this.$router.push({path:"/manager"})},userInfo:function(){var t=this.$jwtDecode(sessionStorage.getItem("token")).name,e=this.$jwtDecode(sessionStorage.getItem("token")).id;console.log("studentId"+e),console.log("studentName "+t),this.user.userName=t,this.user.studentId=e,this.imageUrl=this.$jwtDecode(sessionStorage.getItem("token")).image},practice:function(){this.$store.commit("practice",!0),this.$router.push({path:"/startExam"})},exam:function(){this.$store.commit("practice",!1),this.$router.push({path:"/student"})}},computed:Object(o.c)(["isPractice"])},n={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"student"}},[s("el-row",{staticClass:"padding-50"},[s("el-col",{attrs:{span:24}},[s("ul",{staticClass:"list"},[s("li",{staticClass:"logo"},[s("i",{staticClass:"iconfont icon-kaoshi"}),s("span",[t._v("Online-Exam-System")])]),t._v(" "),s("a",{attrs:{href:"javascript:;"},on:{click:function(e){return t.exam()}}},[s("li",[t._v("我的试卷")])]),t._v(" "),s("a",{attrs:{href:"javascript:;"},on:{click:function(e){return t.practice()}}},[s("li",[t._v("我的练习")])]),t._v(" "),s("router-link",{attrs:{to:"/scoreTable"}},[s("li",[t._v("我的分数")])]),t._v(" "),s("router-link",{attrs:{to:"/message"}},[s("li",[t._v("聊天室")])]),t._v(" "),s("router-link",{attrs:{to:"/errorinfo"}},[s("li",[t._v("错题详情")])]),t._v(" "),s("router-link",{attrs:{to:"/rank"}},[s("li",[t._v("成绩详情")])]),t._v(" "),s("li",{staticClass:"right",on:{mouseenter:function(e){t.flag=!t.flag},mouseleave:function(e){t.flag=!t.flag}}},[s("a",{attrs:{href:"javascript:;"}},[s("img",{staticStyle:{"border-radius":"50%",width:"50px",height:"50px"},attrs:{src:t.imageUrl}}),t._v("\n            "+t._s(t.user.userName))]),t._v(" "),t.flag?s("div",{staticClass:"msg"},[s("p",{on:{click:function(e){return t.manage()}}},[t._v("管理中心")]),t._v(" "),s("p",{staticClass:"exit",on:{click:function(e){return t.exit()}}},[t._v("退出")])]):t._e()])],1)])],1),t._v(" "),s("div",{staticClass:"main"},[s("router-view")],1),t._v(" "),s("v-footer")],1)},staticRenderFns:[]};var c=s("VU/8")(r,n,!1,function(t){s("5HAc")},"data-v-8286dab4",null);e.default=c.exports},XiQI:function(t,e){}});
//# sourceMappingURL=9.5194bd10959e8f79e67e.js.map